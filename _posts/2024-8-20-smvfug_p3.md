---
layout: post
title: "Synopsys多电压实现与验证概述——3 功耗设计意图规范"
date:   2024-8-20
tags: [low power]
comments: true
author: Shuhao
---

<h2 id="3.">3. 功耗设计意图规范</h2>

IEEE 1801标准（也称为统一功耗格式，UPF）为低功耗集成电路的设计和验证提供了一种一致的方法，涵盖了整个设计过程，包括综合、物理实现和验证。这种一致性使得在设计中存在特定的低功耗特性时更容易进行综合、仿真、逻辑等价性检查和设计验证。

在Synopsys流程中指定设计的功耗设计意图在以下章节中有描述：

* [3.1 IEEE 1801标准（UPF）](#3.1)

* [3.2 功耗设计意图概念](#3.2)

* [3.3 电源网络示例](#3.3)

* [3.4 Synopsys工具支持的UPF命令](#3.4)

* [3.5 UPF命令跟踪](#3.5)

* [3.6 标准UPF流程](#3.6)

<h3 id="3.1">3.1 IEEE 1801标准（UPF）</h3>

IEEE 1801 低功耗集成电路设计与验证标准又称统一电源格式（UPF），由一组类似 Tcl 的命令组成，用于指定多电压电子系统的设计意图。使用 UPF 命令，您可以为芯片设计指定电源网络、开关、隔离、保持以及电源管理的其他方面。在整个设计、分析、验证和实现流程中，都可以使用一套低功耗设计规范命令。

Synopsys 工具的设计遵循 IEEE 标准协会批准的 IEEE 1801 (UPF) 标准。包括 Synopsys 在内的许多 EDA 公司都支持这一标准。有关该标准的详细信息，请参见 IEEE 1801 规范本身，可从 IEEE 标准协会网站 <http://standards.ieee.org> 下载。

Synopsys 工具支持 IEEE 1801 (UPF) 标准中的大量命令子集。此外，它们还支持一些不属于该标准的类似 UPF 的电源意图命令。

<h4 id="3.1.1">3.1.1 UPF命令中的通配符模式匹配</h4>

IEEE 1801 LRM（Language Reference Manual）指出，通配符模式匹配只允许在`find_objects`和`upf_query`命令中使用。然而，Synopsys工具为许多UPF命令提供了通配符匹配功能，以提高易用性。

通配符模式匹配使用以下特殊运算符：
- `?` 匹配除层级分隔符 `/` 之外的任何单个字符。
- `*` 匹配除层级分隔符之外的任何零个或多个字符。

所有执行基于模式的对象查找的UPF命令都支持 `?` 和 `*` 通配符，并且对象查找发生在当前作用域中。表1展示了一些通配符匹配的例子。

| 模式      | 匹配         |
| --------- | ------------ |
| a         | a            |
| e*        | e12, eac, ef |
| d?f       | daf, d4f     |
| a/b\*/c\* | a/baa/c1aa   |

<h3 id="3.2">3.2 功耗设计意图概念</h3>

UPF语言建立了一套命令来指定电子系统的低功耗设计意图。使用UPF命令，你可以指定芯片设计的供电网络、开关、隔离、保持以及其他与电源管理相关的方面。同一套低功耗设计规范命令将在整个设计、分析、验证和实现流程中使用。Synopsys工具被设计为遵循官方的IEEE 1801 UPF标准。

UPF语言提供了一种指定设计的电源需求的方法，但并没有明确规定这些需求是如何实现的。该语言规定了如何为每个设计元素创建一个供电网络，不同电源网络之间的行为，以及如何扩展逻辑功能以支持设计元素的动态电源切换。它不包含任何布局或布线信息。

在UPF语言中，电源域是指设计中共享一组共同电源需求的元素集合。默认情况下，电源域中的所有逻辑元件使用相同的主电源和主接地。也可以为电源域定义其他电源。电源域通常在物理芯片布局中作为一个连续的电压区域来实现，但这并不是语言的要求。

每个电源域都有一个 `scope` 和 `extent`。`scope`是指被指定为该域根的逻辑层次。`extent`是指属于电源域并共享相同电压需求的一组逻辑元件。范围是在哪个层次定义电源域的层次级别，并且是属于该电源域的元件的祖先，而程度则是实际属于电源域的元件集合。

